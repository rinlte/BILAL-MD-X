<script>
  const MAIN_REPO = "BiLaLTeCh05/BILAL-MD"; // üëà apna main repo
  const MAIN_OWNER = MAIN_REPO.split('/')[0];

  async function confirmFork() {
    const user = document.getElementById("username").value.trim();
    if (!user) return confirmLog("‚ùå Please enter your GitHub username!");
    confirmLog("üîç Checking your fork...");

    try {
      // üëâ If user is the original repo owner, skip fork check
      if (user.toLowerCase() === MAIN_OWNER.toLowerCase()) {
        confirmLog(`‚úÖ You are the main repo owner (${user}), skipping fork check.`);
        localStorage.setItem("userRepo", MAIN_REPO);
        document.getElementById("step2").classList.add("hidden");
        document.getElementById("step3").classList.remove("hidden");
        return;
      }

      // üëâ Normal fork verification for other users
      const forkURL = `https://api.github.com/repos/${user}/${MAIN_REPO.split('/')[1]}`;
      const check = await fetch(forkURL);

      if (check.ok) {
        confirmLog(`‚úÖ Fork confirmed for ${user}`);
        localStorage.setItem("userRepo", `${user}/${MAIN_REPO.split('/')[1]}`);
        document.getElementById("step2").classList.add("hidden");
        document.getElementById("step3").classList.remove("hidden");
      } else {
        confirmLog("‚ùå Fork not found! Please fork first and try again.");
      }
    } catch (e) {
      confirmLog("‚ö†Ô∏è Error: " + e.message);
    }
  }
</script>
